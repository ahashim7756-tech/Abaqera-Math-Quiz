<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© - Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --royal-blue: #1a237e;
            --royal-blue-light: #283593;
            --gold: #c5a059;
            --gold-light: #d4af37;
            --white: #ffffff;
            --gray-light: #f5f5f5;
            --gray-medium: #e0e0e0;
            --text-dark: #212121;
            --success: #4caf50;
            --error: #f44336;
            --warning: #ff9800;
        }

        body {
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Navigation System */
        .nav-header {
            background: linear-gradient(135deg, var(--royal-blue) 0%, var(--royal-blue-light) 100%);
            color: var(--white);
            padding: 15px 30px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            font-size: 1.5em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-brand::before {
            content: "ğŸ“";
            font-size: 1.3em;
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid var(--white);
            color: var(--white);
            padding: 8px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
            display: none;
        }

        .back-btn:hover {
            background: var(--white);
            color: var(--royal-blue);
        }

        .back-btn.visible {
            display: block;
        }

        /* Screen Management */
        .screen {
            display: none;
            padding: 100px 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Main Menu Styles */
        .main-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .menu-card {
            background: var(--white);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--royal-blue), var(--gold));
        }

        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border-color: var(--gold);
        }

        .menu-icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
        }

        .menu-title {
            color: var(--royal-blue);
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .menu-desc {
            color: #666;
            font-size: 0.95em;
        }

        /* Encyclopedia Styles */
        .encyclopedia-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: var(--white);
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .tab-btn {
            flex: 1;
            padding: 15px;
            border: none;
            background: transparent;
            color: var(--royal-blue);
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-blue-light));
            color: var(--white);
        }

        .tab-content {
            display: none;
            background: var(--white);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .tab-content.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .topic-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--gray-medium);
        }

        .topic-section:last-child {
            border-bottom: none;
        }

        .topic-title {
            color: var(--royal-blue);
            font-size: 1.4em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .topic-title::before {
            content: "â–¶";
            color: var(--gold);
        }

        .formula-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-right: 5px solid var(--royal-blue);
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            direction: ltr;
            text-align: center;
        }

        .concept-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .concept-card {
            background: var(--gray-light);
            padding: 20px;
            border-radius: 15px;
            border-top: 4px solid var(--gold);
        }

        .concept-card h4 {
            color: var(--royal-blue);
            margin-bottom: 10px;
        }

        /* Test Selection Styles */
        .test-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
        }

        .category-box {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .category-title {
            color: var(--royal-blue);
            font-size: 1.3em;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--gold);
        }

        .test-list {
            list-style: none;
        }

        .test-item {
            background: var(--gray-light);
            margin: 10px 0;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-right: 4px solid transparent;
        }

        .test-item:hover {
            background: #e8eaf6;
            border-right-color: var(--royal-blue);
            transform: translateX(-5px);
        }

        .test-badge {
            background: var(--gold);
            color: var(--white);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
        }

        /* Quiz Interface */
        .quiz-header {
            background: var(--white);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .quiz-info h2 {
            color: var(--royal-blue);
            margin-bottom: 10px;
        }

        .timer-box {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-blue-light));
            color: var(--white);
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.5em;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-box.warning {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .progress-container {
            width: 100%;
            height: 10px;
            background: var(--gray-medium);
            border-radius: 5px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--royal-blue), var(--gold));
            width: 0%;
            transition: width 0.5s ease;
        }

        .question-container {
            background: var(--white);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            color: var(--royal-blue);
            font-weight: bold;
        }

        .question-text {
            font-size: 1.3em;
            margin-bottom: 30px;
            line-height: 1.8;
            color: var(--text-dark);
        }

        .options-grid {
            display: grid;
            gap: 15px;
        }

        .option-btn {
            background: var(--gray-light);
            border: 3px solid transparent;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            text-align: right;
            font-size: 1.1em;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-btn:hover {
            background: #e8eaf6;
            border-color: var(--royal-blue-light);
            transform: translateX(-5px);
        }

        .option-btn.selected {
            background: #e3f2fd;
            border-color: var(--royal-blue);
        }

        .option-btn.correct {
            background: #e8f5e9;
            border-color: var(--success);
            color: var(--success);
        }

        .option-btn.wrong {
            background: #ffebee;
            border-color: var(--error);
            color: var(--error);
        }

        .option-letter {
            width: 40px;
            height: 40px;
            background: var(--royal-blue);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .feedback-box {
            background: #fff3e0;
            border-right: 5px solid var(--warning);
            padding: 25px;
            margin-top: 25px;
            border-radius: 15px;
            display: none;
        }

        .feedback-box.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback-title {
            color: var(--warning);
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-blue-light));
            color: var(--white);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #45a049);
            color: var(--white);
        }

        .btn-gold {
            background: linear-gradient(135deg, var(--gold), var(--gold-light));
            color: var(--white);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Certificate Styles */
        .certificate-container {
            display: none;
            background: linear-gradient(135deg, #fff9e6 0%, #ffecb3 100%);
            border: 15px solid var(--gold);
            padding: 60px;
            text-align: center;
            border-radius: 20px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 900px;
            margin: 0 auto;
        }

        .certificate-container::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border: 3px solid var(--gold);
            border-radius: 15px;
            pointer-events: none;
        }

        .cert-header {
            margin-bottom: 40px;
        }

        .cert-logo {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .cert-title {
            color: var(--royal-blue);
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .cert-subtitle {
            color: var(--gold);
            font-size: 1.3em;
        }

        .cert-content {
            margin: 40px 0;
            font-size: 1.2em;
            line-height: 2.2;
        }

        .cert-name {
            font-size: 2.2em;
            color: var(--royal-blue);
            font-weight: bold;
            margin: 20px 0;
            border-bottom: 3px solid var(--gold);
            display: inline-block;
            padding: 0 40px;
            padding-bottom: 10px;
        }

        .cert-score {
            font-size: 3.5em;
            color: var(--gold);
            font-weight: bold;
            margin: 20px 0;
        }

        .cert-grade {
            font-size: 1.8em;
            color: var(--royal-blue);
            font-weight: bold;
            margin: 20px 0;
            padding: 10px 30px;
            background: rgba(197, 160, 89, 0.2);
            border-radius: 10px;
            display: inline-block;
        }

        .cert-footer {
            margin-top: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 30px;
            border-top: 2px solid var(--gold);
        }

        .cert-date {
            color: #666;
            font-size: 1.1em;
        }

        .cert-seal {
            width: 150px;
            height: 150px;
            background: var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-weight: bold;
            font-size: 1.2em;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            border: 5px solid var(--white);
        }

        /* Results Screen */
        .results-container {
            background: var(--white);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .results-score {
            font-size: 5em;
            color: var(--royal-blue);
            font-weight: bold;
            margin: 20px 0;
        }

        .results-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }

        .detail-box {
            background: var(--gray-light);
            padding: 20px;
            border-radius: 15px;
        }

        .detail-value {
            font-size: 2em;
            color: var(--royal-blue);
            font-weight: bold;
        }

        .detail-label {
            color: #666;
            margin-top: 5px;
        }

        /* Student Form */
        .student-form {
            background: var(--white);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
            text-align: right;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--royal-blue);
            font-weight: bold;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            font-size: 1.1em;
            transition: border-color 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--royal-blue);
        }

        /* Error/Success Messages */
        .alert {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .alert-error {
            background: #ffebee;
            color: #c62828;
            border-right: 5px solid #c62828;
        }

        .alert-success {
            background: #e8f5e9;
            color: #2e7d32;
            border-right: 5px solid #2e7d32;
        }

        .alert.show {
            display: block;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-header {
                padding: 15px;
            }
            
            .screen {
                padding: 90px 15px 20px;
            }
            
            .certificate-container {
                padding: 30px 20px;
            }
            
            .cert-footer {
                flex-direction: column;
                gap: 20px;
            }
            
            .results-details {
                grid-template-columns: 1fr;
            }
        }

        /* Print Styles */
        @media print {
            body * {
                visibility: hidden;
            }
            .certificate-container, .certificate-container * {
                visibility: visible;
            }
            .certificate-container {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                border: 10px solid var(--gold);
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>

    <!-- Navigation Header -->
    <header class="nav-header">
        <div class="nav-brand">Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</div>
        <button class="back-btn" id="backBtn" onclick="goBack()">â† Ø¹ÙˆØ¯Ø©</button>
    </header>

    <!-- Screen 1: Main Menu -->
    <div id="mainMenu" class="screen active">
        <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: var(--royal-blue); font-size: 2.5em; margin-bottom: 15px;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</h1>
            <p style="color: #666; font-size: 1.2em;">Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø·Ù„Ø§Ø¨ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© ÙÙŠ Ù…Ø§Ø¯Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</p>
        </div>

        <div class="main-grid">
            <div class="menu-card" onclick="showScreen('encyclopedia')">
                <span class="menu-icon">ğŸ“š</span>
                <h3 class="menu-title">Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h3>
                <p class="menu-desc">Ø´Ø±Ø­ Ø´Ø§Ù…Ù„ Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø© Ù…Ø¹ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„ØµÙŠØº</p>
            </div>

            <div class="menu-card" onclick="showScreen('testSelection')">
                <span class="menu-icon">ğŸ“</span>
                <h3 class="menu-title">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</h3>
                <p class="menu-desc">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ù…Ù„Ø© Ù…Ø­Ø§ÙƒÙŠØ© Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª</p>
            </div>

            <div class="menu-card" onclick="showScreen('studentProfile')">
                <span class="menu-icon">ğŸ‘¤</span>
                <h3 class="menu-title">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h3>
                <p class="menu-desc">ØªØªØ¨Ø¹ ØªÙ‚Ø¯Ù…Ùƒ ÙˆØ´Ù‡Ø§Ø¯Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</p>
            </div>
        </div>
    </div>

    <!-- Screen 2: Encyclopedia -->
    <div id="encyclopedia" class="screen">
        <h1 style="color: var(--royal-blue); text-align: center; margin-bottom: 30px;">ğŸ“š Ø§Ù„Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h1>
        
        <div class="encyclopedia-tabs">
            <button class="tab-btn active" onclick="switchTab('algebra')">ğŸ“ ÙˆØ­Ø¯Ø© Ø§Ù„Ø¬Ø¨Ø±</button>
            <button class="tab-btn" onclick="switchTab('geometry')">âš« ÙˆØ­Ø¯Ø© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</button>
        </div>

        <!-- Algebra Content -->
        <div id="algebra" class="tab-content active">
            <div class="topic-section">
                <h3 class="topic-title">Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</h3>
                <p>Ø·Ø±Ù‚ Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ØªØ§Ø­Ø©: Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø°ÙØŒ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ¹ÙˆÙŠØ¶ØŒ ÙˆØ§Ù„Ø­Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ.</p>
                
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø°Ù</h4>
                        <p>Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨Ø£Ø¹Ø¯Ø§Ø¯ Ù…Ù†Ø§Ø³Ø¨Ø© Ø«Ù… Ù†Ø¬Ù…Ø¹Ù‡Ø§ Ù„Ø­Ø°Ù Ø£Ø­Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª</p>
                    </div>
                    <div class="concept-card">
                        <h4>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ¹ÙˆÙŠØ¶</h4>
                        <p>Ù†Ø¹Ø¨Ø± Ø¹Ù† Ø£Ø­Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±ÙŠÙ† Ù…Ù† Ù…Ø¹Ø§Ø¯Ù„Ø© ÙˆÙ†Ø¹ÙˆØ¶Ù‡ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£Ø®Ø±Ù‰</p>
                    </div>
                </div>

                <h4 style="margin-top: 20px; color: var(--royal-blue);">Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©:</h4>
                <ul style="margin: 15px 30px; line-height: 2;">
                    <li><strong>Ø§Ù„ØªÙ‚Ø§Ø·Ø¹:</strong> Ù„Ù„Ù†Ø¸Ø§Ù… Ø­Ù„ ÙˆØ§Ø­Ø¯ (Ø§Ù„Ø®Ø·Ø§Ù† ÙŠØªÙ‚Ø§Ø·Ø¹Ø§Ù†)</li>
                    <li><strong>Ø§Ù„ØªÙˆØ§Ø²ÙŠ:</strong> Ù„Ø§ Ø­Ù„ (Ø§Ù„Ø®Ø·Ø§Ù† Ù…ØªÙˆØ§Ø²ÙŠØ§Ù†)</li>
                    <li><strong>Ø§Ù„ØªØ·Ø§Ø¨Ù‚:</strong> Ø­Ù„ÙˆÙ„ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ© (Ø§Ù„Ø®Ø·Ø§Ù† Ù…ØªØ·Ø§Ø¨Ù‚Ø§Ù†)</li>
                </ul>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¹Ø§Ù… Ù„Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©</h3>
                <div class="formula-box">
                    x = (-b Â± âˆš(bÂ² - 4ac)) / 2a
                </div>
                
                <h4 style="color: var(--royal-blue); margin: 20px 0 10px;">Ø§Ù„Ù…Ù…ÙŠØ² (Î”) ÙˆØ­Ø§Ù„Ø§ØªÙ‡:</h4>
                <div class="concept-grid">
                    <div class="concept-card" style="border-top-color: var(--success);">
                        <h4>Î” > 0</h4>
                        <p>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„Ù‡Ø§ Ø­Ù„Ø§Ù† Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù† Ù…Ø®ØªÙ„ÙØ§Ù†</p>
                    </div>
                    <div class="concept-card" style="border-top-color: var(--warning);">
                        <h4>Î” = 0</h4>
                        <p>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„Ù‡Ø§ Ø­Ù„ ÙˆØ§Ø­Ø¯ Ù…ÙƒØ±Ø± (Ø­Ù„Ø§Ù† Ù…ØªØ³Ø§ÙˆÙŠØ§Ù†)</p>
                    </div>
                    <div class="concept-card" style="border-top-color: var(--error);">
                        <h4>Î” < 0</h4>
                        <p>Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„ÙŠØ³ Ù„Ù‡Ø§ Ø­Ù„ÙˆÙ„ Ø­Ù‚ÙŠÙ‚ÙŠØ©</p>
                    </div>
                </div>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø£ØµÙØ§Ø± Ø§Ù„Ø¯Ø§Ù„Ø©</h3>
                <p><strong>Ø£ØµÙØ§Ø± Ø§Ù„Ø¯Ø§Ù„Ø© ÙƒØ«ÙŠØ±Ø© Ø§Ù„Ø­Ø¯ÙˆØ¯:</strong> Ù‡ÙŠ Ù‚ÙŠÙ… x Ø§Ù„ØªÙŠ ØªØ¬Ø¹Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¯Ø§Ù„Ø© ØªØ³Ø§ÙˆÙŠ ØµÙØ±Ø§Ù‹ (Ø¬Ø°ÙˆØ± Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©).</p>
                <p><strong>Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ÙƒØ³Ø±ÙŠØ©:</strong> Ø§Ù„Ø£ØµÙØ§Ø± Ù‡ÙŠ Ù‚ÙŠÙ… x Ø§Ù„ØªÙŠ ØªØ¬Ø¹Ù„ Ø§Ù„Ø¨Ø³Ø· ØµÙØ±Ø§Ù‹ (Ù…Ø¹ Ø¹Ø¯Ù… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù…Ù‚Ø§Ù…).</p>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¬Ø¨Ø±ÙŠØ©</h3>
                <ol style="margin: 15px 30px; line-height: 2;">
                    <li><strong>Ø§Ù„ØªØ±ØªÙŠØ¨:</strong> ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¨Ø³Ø· ÙˆØ§Ù„Ù…Ù‚Ø§Ù…</li>
                    <li><strong>Ø§Ù„ØªØ­Ù„ÙŠÙ„:</strong> ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø³Ø· ÙˆØ§Ù„Ù…Ù‚Ø§Ù… Ø¥Ù„Ù‰ Ø¹ÙˆØ§Ù…Ù„Ù‡Ù…Ø§ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</li>
                    <li><strong>ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¬Ø§Ù„:</strong> Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ¬Ø¹Ù„ Ø§Ù„Ù…Ù‚Ø§Ù… ØµÙØ±Ø§Ù‹</li>
                    <li><strong>Ø§Ù„Ø§Ø®ØªØ²Ø§Ù„:</strong> Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</li>
                    <li><strong>Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</strong> Ø§Ù„Ø¬Ù…Ø¹/Ø§Ù„Ø·Ø±Ø­ (ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ù…Ù‚Ø§Ù…Ø§Øª) Ø£Ùˆ Ø§Ù„Ø¶Ø±Ø¨/Ø§Ù„Ù‚Ø³Ù…Ø©</li>
                </ol>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª</h3>
                <div class="formula-box">
                    P(A âˆª B) = P(A) + P(B) - P(A âˆ© B)
                </div>
                <ul style="margin: 15px 30px; line-height: 2;">
                    <li><strong>Ø§Ù„Ø§ØªØ­Ø§Ø¯:</strong> A Ø£Ùˆ B ØªØ­Ø¯Ø«</li>
                    <li><strong>Ø§Ù„ØªÙ‚Ø§Ø·Ø¹:</strong> A Ùˆ B Ù…Ø¹Ø§Ù‹</li>
                    <li><strong>Ø§Ù„ÙØ±Ù‚:</strong> A ØªØ­Ø¯Ø« Ø¯ÙˆÙ† B</li>
                    <li><strong>Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ù…ÙƒÙ…Ù„:</strong> P(A') = 1 - P(A)</li>
                    <li><strong>Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…ØªÙ†Ø§ÙÙŠØ©:</strong> P(A âˆ© B) = 0</li>
                </ul>
            </div>
        </div>

        <!-- Geometry Content -->
        <div id="geometry" class="tab-content">
            <div class="topic-section">
                <h3 class="topic-title">ØªØ¹Ø§Ø±ÙŠÙ ÙˆÙ…ÙØ§Ù‡ÙŠÙ… Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>Ø§Ù„ÙˆØªØ±</h4>
                        <p>Ø§Ù„Ù‚Ø·Ø¹Ø© Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…Ø© Ø§Ù„ÙˆØ§ØµÙ„Ø© Ø¨ÙŠÙ† Ù†Ù‚Ø·ØªÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©</p>
                    </div>
                    <div class="concept-card">
                        <h4>Ø§Ù„Ù‚Ø·Ø±</h4>
                        <p>ÙˆØªØ± ÙŠÙ…Ø± Ø¨Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© (Ø£Ø·ÙˆÙ„ Ø£ÙˆØªØ± Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©)</p>
                    </div>
                    <div class="concept-card">
                        <h4>Ù…Ø­ÙˆØ± Ø§Ù„ØªÙ…Ø§Ø«Ù„</h4>
                        <p>Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Ø§Ù„ÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ù…Ù†ØªØµÙÙŠ ÙˆØªØ±ÙŠÙ† Ù…ØªÙˆØ§Ø²ÙŠÙŠÙ†</p>
                    </div>
                </div>
                
                <h4 style="margin-top: 20px; color: var(--royal-blue);">Ø®Ø· Ø§Ù„Ù…Ø±ÙƒØ²ÙŠÙ†:</h4>
                <p>ÙŠØµÙ„ Ù…Ø±ÙƒØ²ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ØªÙŠÙ† ÙˆÙŠÙƒÙˆÙ† Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØªØ± Ø§Ù„Ù…Ø´ØªØ±Ùƒ Ù„Ù„Ø¯Ø§Ø¦Ø±ØªÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹ØªÙŠÙ†ØŒ ÙˆÙŠÙ…Ø± Ø¨Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙ…Ø§Ø³ Ù„Ù„Ø¯Ø§Ø¦Ø±ØªÙŠÙ† Ø§Ù„Ù…ØªÙ„Ø§Ù…Ø³ØªÙŠÙ†.</p>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø¹Ù„Ø§Ù‚Ø© Ø§Ù„Ø£ÙˆØªØ§Ø± Ø¨Ø§Ù„Ù…Ø±ÙƒØ²</h3>
                <ul style="margin: 15px 30px; line-height: 2;">
                    <li>Ø§Ù„Ø£ÙˆØªØ§Ø± Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠØ© Ø§Ù„Ø¨Ø¹Ø¯ Ø¹Ù† Ø§Ù„Ù…Ø±ÙƒØ² Ù…ØªØ³Ø§ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ø·ÙˆÙ„</li>
                    <li>Ø§Ù„Ø£ÙˆØªØ§Ø± Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ø·ÙˆÙ„ Ù…ØªØ³Ø§ÙˆÙŠØ© Ø§Ù„Ø¨Ø¹Ø¯ Ø¹Ù† Ø§Ù„Ù…Ø±ÙƒØ²</li>
                    <li>ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„Ø¨Ø¹Ø¯ Ø¹Ù† Ø§Ù„Ù…Ø±ÙƒØ²ØŒ Ù‚Ù„ Ø·ÙˆÙ„ Ø§Ù„ÙˆØªØ±</li>
                    <li>Ø§Ù„Ù‚Ø·Ø± ÙŠØ¹Ø§Ù…Ø¯ Ø§Ù„ÙˆØªØ± ÙˆÙŠÙ†ØµÙÙ‡ (ÙˆØ§Ù„Ø¹ÙƒØ³ ØµØ­ÙŠØ­)</li>
                </ul>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ø²ÙˆØ§ÙŠØ§ ÙÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©</h3>
                <div class="concept-grid">
                    <div class="concept-card">
                        <h4>Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</h4>
                        <p>Ø±Ø£Ø³Ù‡Ø§ ÙÙŠ Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©ØŒ ØªÙ‚Ø§Ø³ Ø¨Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚ÙˆØ³ Ø§Ù„Ø°ÙŠ ØªÙ‚Ø·Ø¹Ù‡</p>
                    </div>
                    <div class="concept-card">
                        <h4>Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ©</h4>
                        <p>Ø±Ø£Ø³Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙŠØ·ØŒ ØªØ³Ø§ÙˆÙŠ Ù†ØµÙ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ù…Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚ÙˆØ³</p>
                    </div>
                    <div class="concept-card">
                        <h4>Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù…Ø§Ø³</h4>
                        <p>Ø²Ø§ÙˆÙŠØ© Ø±Ø£Ø³Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ÙˆØ¶Ù„Ø¹Ù‡Ø§ Ù…Ù…Ø§Ø³ØŒ ØªØ³Ø§ÙˆÙŠ Ù†ØµÙ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙˆØ³ÙŠÙ†</p>
                    </div>
                </div>
                
                <div class="formula-box" style="margin-top: 20px;">
                    Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ© = Â½ Ã— Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© (Ø¥Ø°Ø§ Ø§Ø´ØªØ±ÙƒØªØ§ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù‚ÙˆØ³)
                </div>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ</h3>
                <p><strong>Ø§Ù„ØªØ¹Ø±ÙŠÙ:</strong> Ø±Ø¨Ø§Ø¹ÙŠ Ø£Ø¶Ù„Ø§Ø¹Ù‡ Ø¯Ø§Ø®Ù„ Ø¯Ø§Ø¦Ø±Ø© ÙˆØ§Ø­Ø¯Ø©.</p>
                
                <h4 style="color: var(--royal-blue); margin: 20px 0 10px;">Ø§Ù„Ø®ÙˆØ§Øµ:</h4>
                <ol style="margin: 15px 30px; line-height: 2;">
                    <li>Ù…Ø¬Ù…ÙˆØ¹ Ø²Ø§ÙˆÙŠØªÙŠÙ† Ù…ØªÙ‚Ø§Ø¨Ù„ØªÙŠÙ† = 180Â°</li>
                    <li>Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø© Ù„Ù‡Ø§</li>
                    <li>Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø© ØªÙ†Ø§Ø³Ø¨ Ø·Ø±Ø¯ÙŠØ§Ù‹ Ù…Ø¹ Ø§Ù„Ø¬ÙŠÙˆØ¨</li>
                    <li>Ø§Ù„Ù‚Ø·Ø±Ø§Ù† ÙŠÙ†ØµÙØ§Ù† Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªÙˆØ§Ø²ÙŠ Ø£Ø¶Ù„Ø§Ø¹</li>
                </ol>

                <h4 style="color: var(--royal-blue); margin: 20px 0 10px;">Ø´Ø±ÙˆØ· Ø§Ù„Ø¥Ø«Ø¨Ø§Øª:</h4>
                <ul style="margin: 15px 30px; line-height: 2;">
                    <li>Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø²Ø§ÙˆÙŠØªÙŠÙ† Ù…ØªÙ‚Ø§Ø¨Ù„ØªÙŠÙ† ÙŠØ³Ø§ÙˆÙŠ 180Â°</li>
                    <li>Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø©</li>
                    <li>Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠØ© ÙÙŠ Ù‚ÙˆØ³ ÙˆØ§Ø­Ø¯</li>
                </ul>
            </div>

            <div class="topic-section">
                <h3 class="topic-title">Ø§Ù„Ù…Ù…Ø§Ø³Ø§Øª Ù…Ù† Ù†Ù‚Ø·Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©</h3>
                <ul style="margin: 15px 30px; line-height: 2;">
                    <li>Ø·ÙˆÙ„Ø§ Ø§Ù„Ù…Ù…Ø§Ø³ÙŠÙ† Ù…Ù† Ù†Ù‚Ø·Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© Ù…ØªØ³Ø§ÙˆÙŠØ§Ù†</li>
                    <li>Ø®Ø· Ø§Ù„ÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ù‚Ø·Ø© ÙˆÙ…Ø±ÙƒØ² Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ÙŠÙ†ØµÙ Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù…Ø§Ø³ÙŠÙ†</li>
                    <li>Ø®Ø· Ø§Ù„ÙˆØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ù‚Ø·Ø© ÙˆÙ…Ø±ÙƒØ² Ø§Ù„Ø¯Ø§Ø¦Ø±Ø© ÙŠÙ†ØµÙ Ø§Ù„ÙˆØªØ± Ø§Ù„Ù…Ø±Ø³ÙˆÙ… Ø¨ÙŠÙ† Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙ…Ø§Ø³</li>
                    <li>Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù…Ù…Ø§Ø³ ÙˆØ§Ù„ÙˆØªØ± ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ© ÙÙŠ Ø§Ù„Ù‚ÙˆØ³ Ø§Ù„Ø¨Ø¯ÙŠÙ„</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Screen 3: Test Selection -->
    <div id="testSelection" class="screen">
        <h1 style="color: var(--royal-blue); text-align: center; margin-bottom: 30px;">ğŸ“ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h1>
        
        <div class="test-categories">
            <div class="category-box">
                <h3 class="category-title">ğŸ“… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø´Ù‡ÙˆØ±</h3>
                <ul class="test-list">
                    <li class="test-item" onclick="startTest('feb', 'Ø§Ù…ØªØ­Ø§Ù† ÙØ¨Ø±Ø§ÙŠØ± - Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª', 10)">
                        <span>Ø§Ù…ØªØ­Ø§Ù† ÙØ¨Ø±Ø§ÙŠØ±: Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª ÙˆØ§Ù„Ø¯ÙˆØ§Ù„</span>
                        <span class="test-badge">10 Ø£Ø³Ø¦Ù„Ø©</span>
                    </li>
                    <li class="test-item" onclick="startTest('mar', 'Ø§Ù…ØªØ­Ø§Ù† Ù…Ø§Ø±Ø³ - Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ÙƒØ³Ø±ÙŠØ©', 10)">
                        <span>Ø§Ù…ØªØ­Ø§Ù† Ù…Ø§Ø±Ø³: Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ÙƒØ³Ø±ÙŠØ©</span>
                        <span class="test-badge">10 Ø£Ø³Ø¦Ù„Ø©</span>
                    </li>
                    <li class="test-item" onclick="startTest('apr', 'Ø§Ù…ØªØ­Ø§Ù† Ø£Ø¨Ø±ÙŠÙ„ - Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©', 10)">
                        <span>Ø§Ù…ØªØ­Ø§Ù† Ø£Ø¨Ø±ÙŠÙ„: Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©</span>
                        <span class="test-badge">10 Ø£Ø³Ø¦Ù„Ø©</span>
                    </li>
                </ul>
            </div>

            <div class="category-box">
                <h3 class="category-title">ğŸ“ Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h3>
                <ul class="test-list">
                    <li class="test-item" onclick="startTest('final1', 'Ù†Ù…ÙˆØ°Ø¬ Ø§Ù…ØªØ­Ø§Ù† Ù†Ù‡Ø§Ø¦ÙŠ Ø£ÙˆÙ„', 5)">
                        <span>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù…ØªØ­Ø§Ù† Ù…Ø­Ø§ÙØ¸Ø© Ø£ÙˆÙ„</span>
                        <span class="test-badge">5 Ø£Ø³Ø¦Ù„Ø©</span>
                    </li>
                    <li class="test-item" onclick="startTest('final2', 'Ù†Ù…ÙˆØ°Ø¬ Ø§Ù…ØªØ­Ø§Ù† Ù†Ù‡Ø§Ø¦ÙŠ Ø«Ø§Ù†Ù', 5)">
                        <span>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù…ØªØ­Ø§Ù† Ù…Ø­Ø§ÙØ¸Ø© Ø«Ø§Ù†Ù</span>
                        <span class="test-badge">5 Ø£Ø³Ø¦Ù„Ø©</span>
                    </li>
                    <li class="test-item" onclick="startTest('comprehensive', 'Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„', 20)">
                        <span>Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ù‡Ø¬ ÙƒØ§Ù…Ù„Ø§Ù‹</span>
                        <span class="test-badge">20 Ø³Ø¤Ø§Ù„Ø§Ù‹</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Screen 4: Student Form -->
    <div id="studentForm" class="screen">
        <div class="student-form">
            <h2 style="color: var(--royal-blue); margin-bottom: 30px;">ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
            
            <div id="formAlert" class="alert alert-error"></div>

            <div class="form-group">
                <label for="studentName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ</label>
                <input type="text" id="studentName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ" required>
            </div>

            <div class="form-group">
                <label for="studentGrade">Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</label>
                <select id="studentGrade">
                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
                    <option value="first">Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                    <option value="second">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                    <option value="third">Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</option>
                </select>
            </div>

            <div class="form-group">
                <label for="testTypeDisplay">Ù†ÙˆØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</label>
                <input type="text" id="testTypeDisplay" readonly style="background: var(--gray-light);">
            </div>

            <button class="btn btn-primary" onclick="confirmStartTest()" style="width: 100%; margin-top: 20px;">
                Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
        </div>
    </div>

    <!-- Screen 5: Quiz Interface -->
    <div id="quizScreen" class="screen">
        <div class="quiz-header">
            <div class="quiz-info">
                <h2 id="quizTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
                <div class="progress-container">
                    <div id="quizProgress" class="progress-fill"></div>
                </div>
                <p style="margin-top: 10px; color: #666;">
                    Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="currentQNum">1</span> Ù…Ù† <span id="totalQNum">10</span>
                </p>
            </div>
            <div class="timer-box" id="timerBox">
                <span>â±ï¸</span>
                <span id="timerDisplay">00:00</span>
            </div>
        </div>

        <div class="question-container" id="questionContainer">
            <!-- Question content loaded dynamically -->
        </div>

        <div class="nav-buttons">
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>
                Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†’
            </button>
            <button class="btn btn-success hidden" id="finishBtn" onclick="finishTest()">
                Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± âœ“
            </button>
        </div>
    </div>

    <!-- Screen 6: Results -->
    <div id="resultsScreen" class="screen">
        <div class="results-container">
            <h2 style="color: var(--royal-blue); margin-bottom: 20px;">Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h2>
            
            <div class="results-score" id="finalScore">0%</div>
            
            <div id="gradeDisplay" class="cert-grade" style="margin-bottom: 30px;">-</div>

            <div class="results-details">
                <div class="detail-box">
                    <div class="detail-value" id="correctCount">0</div>
                    <div class="detail-label">Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</div>
                </div>
                <div class="detail-box">
                    <div class="detail-value" id="wrongCount">0</div>
                    <div class="detail-label">Ø¥Ø¬Ø§Ø¨Ø§Øª Ø®Ø§Ø·Ø¦Ø©</div>
                </div>
                <div class="detail-box">
                    <div class="detail-value" id="timeTaken">0:00</div>
                    <div class="detail-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚</div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-gold" onclick="showCertificate()">Ø¹Ø±Ø¶ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ğŸ†</button>
                <button class="btn btn-primary" onclick="returnToMenu()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            </div>
        </div>
    </div>

    <!-- Screen 7: Certificate -->
    <div id="certificateScreen" class="screen">
        <div class="certificate-container" id="certificate">
            <div class="cert-header">
                <div class="cert-logo">ğŸ“</div>
                <h1 class="cert-title">Ø´Ù‡Ø§Ø¯Ø© Ø¥ØªÙ…Ø§Ù… Ø§Ø®ØªØ¨Ø§Ø±</h1>
                <p class="cert-subtitle">Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</p>
            </div>

            <div class="cert-content">
                <p>ÙŠØ´Ù‡Ø¯ Ù…Ø±ÙƒØ² Ø§Ù„ØªÙ…ÙŠØ² Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ Ø¨Ø£Ù† Ø§Ù„Ø·Ø§Ù„Ø¨</p>
                <div class="cert-name" id="certStudentName">-</div>
                <p>Ù‚Ø¯ Ø£ØªÙ… Ø¨Ù†Ø¬Ø§Ø­</p>
                <div style="font-size: 1.3em; color: var(--royal-blue); margin: 15px 0; font-weight: bold;" id="certTestName">-</div>
                <p>ÙˆØ­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø©</p>
                <div class="cert-score" id="certScore">0%</div>
                <div class="cert-grade" id="certGrade">-</div>
            </div>

            <div class="cert-footer">
                <div class="cert-date" id="certDate">-</div>
                <div class="cert-seal">
                    Ù…Ø¹ØªÙ…Ø¯<br>Ø±Ù‚Ù…ÙŠØ§Ù‹
                </div>
            </div>
        </div>

        <div class="nav-buttons" style="margin-top: 40px;">
            <button class="btn btn-primary" onclick="printCertificate()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</button>
            <button class="btn btn-success" onclick="returnToMenu()">Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯</button>
        </div>
    </div>

    <!-- Screen 8: Student Profile -->
    <div id="studentProfile" class="screen">
        <div style="background: var(--white); padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto;">
            <h2 style="color: var(--royal-blue); text-align: center; margin-bottom: 30px;">ğŸ‘¤ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h2>
            
            <div style="text-align: center; margin-bottom: 40px;">
                <div style="width: 120px; height: 120px; background: linear-gradient(135deg, var(--royal-blue), var(--gold)); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 3em; color: white;">
                    ğŸ‘¨â€ğŸ“
                </div>
                <h3 id="profileName">ØºÙŠØ± Ù…Ø³Ø¬Ù„</h3>
            </div>

            <div style="background: var(--gray-light); padding: 30px; border-radius: 15px; margin-bottom: 30px;">
                <h4 style="color: var(--royal-blue); margin-bottom: 20px;">ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ</h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;">
                    <div>
                        <div style="font-size: 2em; color: var(--royal-blue); font-weight: bold;" id="totalTests">0</div>
                        <div style="color: #666;">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ù†Ø¬Ø²Ø©</div>
                    </div>
                    <div>
                        <div style="font-size: 2em; color: var(--gold); font-weight: bold;" id="avgScore">0%</div>
                        <div style="color: #666;">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</div>
                    </div>
                    <div>
                        <div style="font-size: 2em; color: var(--success); font-weight: bold;" id="bestScore">0%</div>
                        <div style="color: #666;">Ø£ÙØ¶Ù„ Ø¯Ø±Ø¬Ø©</div>
                    </div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-primary" onclick="returnToMenu()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // DATABASE & DATA MANAGEMENT
        // ==========================================
        
        // Emergency Database (Internal Fallback)
        const emergencyDB = {
            feb: [
                {
                    id: 1,
                    type: 'mcq',
                    question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ ÙŠÙ…Ø«Ù„ Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© 2x + 5 = 15ØŸ',
                    options: ['3', '5', '7', '10'],
                    correct: 1,
                    hint: 'Ù†Ø·Ø±Ø­ 5 Ù…Ù† Ø§Ù„Ø·Ø±ÙÙŠÙ† Ø«Ù… Ù†Ù‚Ø³Ù… Ø¹Ù„Ù‰ 2: 2x = 10 Ø¥Ø°Ù† x = 5'
                },
                {
                    id: 2,
                    type: 'mcq',
                    question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø­Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… x + y = 5, x - y = 1 Ù‡Ùˆ x = 3, y = 2ØŒ ÙÙ…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø­Ù„ØŸ',
                    options: ['Ù„Ø§ Ø­Ù„', 'Ø­Ù„ ÙˆØ§Ø­Ø¯', 'Ø­Ù„ÙˆÙ„ Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ©', 'Ø­Ù„Ø§Ù†'],
                    correct: 1,
                    hint: 'Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù„Ù„Ù†Ø¸Ø§Ù… Ø­Ù„ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·ØŒ ÙŠÙƒÙˆÙ† Ø§Ù„Ø­Ù„ Ù…ØªÙØ±Ø¯Ø§Ù‹ (Ø§Ù„ØªÙ‚Ø§Ø·Ø¹)'
                },
                {
                    id: 3,
                    type: 'mcq',
                    question: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ù…ÙŠØ² Ù„Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© xÂ² - 5x + 6 = 0ØŸ',
                    options: ['1', '25', '24', '0'],
                    correct: 0,
                    hint: 'Î” = bÂ² - 4ac = 25 - 24 = 1. Ø§Ù„Ù…Ù…ÙŠØ² Ù…ÙˆØ¬Ø¨ Ø¥Ø°Ù† Ù„Ù‡Ø§ Ø­Ù„Ø§Ù† Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù†'
                },
                {
                    id: 4,
                    type: 'mcq',
                    question: 'Ø£ØµÙØ§Ø± Ø§Ù„Ø¯Ø§Ù„Ø© f(x) = xÂ² - 4 Ù‡ÙŠ:',
                    options: ['2 ÙÙ‚Ø·', '-2 ÙÙ‚Ø·', '2 Ùˆ -2', '4'],
                    correct: 2,
                    hint: 'Ù†Ø­Ù„ xÂ² - 4 = 0 ÙØªÙƒÙˆÙ† (x-2)(x+2) = 0 Ø¥Ø°Ù† x = 2 Ø£Ùˆ x = -2'
                },
                {
                    id: 5,
                    type: 'mcq',
                    question: 'Ø¥Ø°Ø§ ÙƒØ§Ù† P(A) = 0.3 Ùˆ P(B) = 0.4 Ùˆ A âˆ© B = âˆ…ØŒ ÙÙ…Ø§ P(A âˆª B)ØŸ',
                    options: ['0.7', '0.12', '1', '0.1'],
                    correct: 0,
                    hint: 'Ù„Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…ØªÙ†Ø§ÙÙŠØ©: P(A âˆª B) = P(A) + P(B) = 0.3 + 0.4 = 0.7'
                }
            ],
            mar: [
                {
                    id: 1,
                    type: 'mcq',
                    question: 'Ù…Ø§ Ù‡Ùˆ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„ÙƒØ³Ø±ÙŠØ© f(x) = 1/(x-2)ØŸ',
                    options: ['R', 'R - {2}', 'R - {0}', 'x > 2'],
                    correct: 1,
                    hint: 'Ø§Ù„Ù…Ù‚Ø§Ù… Ù„Ø§ ÙŠØ³Ø§ÙˆÙŠ ØµÙØ±Ø§Ù‹ØŒ Ø¥Ø°Ù† x - 2 â‰  0 ÙØ§Ù„Ù…Ø¬Ø§Ù„ Ù‡Ùˆ R - {2}'
                },
                {
                    id: 2,
                    type: 'mcq',
                    question: 'Ø£ÙŠ Ù…Ù† Ø§Ù„ØªØ§Ù„ÙŠ ÙŠÙ…Ø«Ù„ Ø®Ø· Ø§Ù„ØªÙ‚Ø§Ø±Ø¨ Ø§Ù„Ø±Ø£Ø³ÙŠ Ù„Ù„Ø¯Ø§Ù„Ø© f(x) = (x+1)/(x-3)ØŸ',
                    options: ['y = 1', 'x = 3', 'x = -1', 'y = 3'],
                    correct: 1,
                    hint: 'Ø®Ø· Ø§Ù„ØªÙ‚Ø§Ø±Ø¨ Ø§Ù„Ø±Ø£Ø³ÙŠ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù‚Ø§Ù… ØµÙØ±Ø§Ù‹: x - 3 = 0 Ø¥Ø°Ù† x = 3'
                }
            ],
            apr: [
                {
                    id: 1,
                    type: 'mcq',
                    question: 'ÙÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©ØŒ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© = 80Â°ØŒ ÙÙ…Ø§ Ù‚ÙŠØ§Ø³ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ù…Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚ÙˆØ³ØŸ',
                    options: ['40Â°', '80Â°', '160Â°', '20Â°'],
                    correct: 0,
                    hint: 'Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ© = Â½ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© = Â½ Ã— 80Â° = 40Â°'
                },
                {
                    id: 2,
                    type: 'mcq',
                    question: 'Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ù‡Ùˆ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„Ø°ÙŠ:',
                    options: ['Ø£Ø¶Ù„Ø§Ø¹Ù‡ Ù…ØªØ³Ø§ÙˆÙŠØ©', 'Ø±Ø¤ÙˆØ³Ù‡ ØªÙ‚Ø¹ Ø¹Ù„Ù‰ Ø¯Ø§Ø¦Ø±Ø© ÙˆØ§Ø­Ø¯Ø©', 'Ø²ÙˆØ§ÙŠØ§Ù‡ Ù‚Ø§Ø¦Ù…Ø©', 'Ø£Ù‚Ø·Ø§Ø±Ù‡ Ù…ØªØ¹Ø§Ù…Ø¯Ø©'],
                    correct: 1,
                    hint: 'Ø§Ù„ØªØ¹Ø±ÙŠÙ: Ø±Ø¨Ø§Ø¹ÙŠ ÙŠÙ…ÙƒÙ† Ø¥Ø¯Ø±Ø§Ø¬Ù‡ ÙÙŠ Ø¯Ø§Ø¦Ø±Ø© (Ø±Ø¤ÙˆØ³Ù‡ Ø¹Ù„Ù‰ Ù…Ø­ÙŠØ· Ø¯Ø§Ø¦Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)'
                }
            ],
            final1: [
                {
                    id: 1,
                    type: 'mcq',
                    question: 'Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©: 3x - 7 = 11',
                    options: ['4', '5', '6', '7'],
                    correct: 2,
                    hint: 'Ù†Ø¶ÙŠÙ 7 Ù„Ù„Ø·Ø±ÙÙŠÙ†: 3x = 18ØŒ Ø«Ù… Ù†Ù‚Ø³Ù… Ø¹Ù„Ù‰ 3: x = 6'
                },
                {
                    id: 2,
                    type: 'written',
                    question: 'Ø§Ø´Ø±Ø­ Ø¨Ø§Ù„ØªÙØµÙŠÙ„ ÙƒÙŠÙ ØªØ­Ù„ Ù†Ø¸Ø§Ù… Ù…Ø¹Ø§Ø¯Ù„ØªÙŠÙ† Ù…Ù† Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø°Ù.',
                    hint: 'Ø§Ù„Ø­Ø°Ù: Ù†Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨Ø£Ø¹Ø¯Ø§Ø¯ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¬Ù…Ø¹Ù‡Ø§ ÙˆØ¥Ø²Ø§Ù„Ø© Ø£Ø­Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±ÙŠÙ†'
                },
                {
                    id: 3,
                    type: 'written',
                    question: 'Ø£ÙˆØ¬Ø¯ Ø£ØµÙØ§Ø± Ø§Ù„Ø¯Ø§Ù„Ø© f(x) = xÂ² - 5x + 6 Ù…Ø¹ Ø´Ø±Ø­ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„.',
                    hint: 'Ù†Ø­Ù„Ù„: (x-2)(x-3) = 0ØŒ Ø¥Ø°Ù† Ø§Ù„Ø£ØµÙØ§Ø± Ù‡ÙŠ x = 2 Ùˆ x = 3'
                },
                {
                    id: 4,
                    type: 'written',
                    question: 'Ø§Ø«Ø¨Øª Ø£Ù† Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ ABCD Ø¯Ø§Ø¦Ø±ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª âˆ A + âˆ C = 180Â°.',
                    hint: 'Ù†Ø³ØªØ®Ø¯Ù… Ø®Ø§ØµÙŠØ©: ÙÙŠ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ Ù…Ø¬Ù…ÙˆØ¹ Ø²Ø§ÙˆÙŠØªÙŠÙ† Ù…ØªÙ‚Ø§Ø¨Ù„ØªÙŠÙ† ÙŠØ³Ø§ÙˆÙŠ 180Â°'
                },
                {
                    id: 5,
                    type: 'written',
                    question: 'Ø§Ø­Ø³Ø¨ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ P(A âˆª B) Ø¥Ø°Ø§ ÙƒØ§Ù† P(A) = 0.4, P(B) = 0.5, P(A âˆ© B) = 0.2.',
                    hint: 'Ù†Ø³ØªØ®Ø¯Ù… Ù‚Ø§Ù†ÙˆÙ†: P(A âˆª B) = P(A) + P(B) - P(A âˆ© B) = 0.4 + 0.5 - 0.2 = 0.7'
                }
            ],
            final2: [
                {
                    id: 1,
                    type: 'mcq',
                    question: 'Ù…Ø§ Ù‡Ùˆ Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ© xÂ² - 6x + 9 = 0ØŸ',
                    options: ['x = 3', 'x = -3', 'x = 3 Ù…ÙƒØ±Ø±', 'Ù„Ø§ Ø­Ù„'],
                    correct: 2,
                    hint: 'Î” = 36 - 36 = 0ØŒ Ø¥Ø°Ù† Ø§Ù„Ø­Ù„ Ù…ÙƒØ±Ø±: x = 6/2 = 3'
                },
                {
                    id: 2,
                    type: 'written',
                    question: 'Ø§ÙˆØ¬Ø¯ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø®Ø· Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Ø§Ù„Ù…Ø§Ø± Ø¨Ø§Ù„Ù†Ù‚Ø·ØªÙŠÙ† (1, 2) Ùˆ (3, 8).',
                    hint: 'Ø§Ù„Ù…ÙŠÙ„ m = (8-2)/(3-1) = 3ØŒ Ø«Ù… Ù†Ø³ØªØ®Ø¯Ù… ØµÙŠØºØ©: y - y1 = m(x - x1)'
                },
                {
                    id: 3,
                    type: 'written',
                    question: 'Ø§Ø´Ø±Ø­ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© ÙˆØ§Ù„Ù…Ø­ÙŠØ·ÙŠØ© ÙÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©.',
                    hint: 'Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø­ÙŠØ·ÙŠØ© = Â½ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ù…Ø¹Ù‡Ø§ ÙÙŠ Ø§Ù„Ù‚ÙˆØ³ Ù†ÙØ³Ù‡'
                },
                {
                    id: 4,
                    type: 'written',
                    question: 'ÙÙŠ Ù…Ø«Ù„Ø« Ù‚Ø§Ø¦Ù… Ø§Ù„Ø²Ø§ÙˆÙŠØ©ØŒ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø·ÙˆÙ„Ø§ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ† 6 Ùˆ 8ØŒ Ø£ÙˆØ¬Ø¯ Ø·ÙˆÙ„ Ø§Ù„ÙˆØªØ±.',
                    hint: 'Ù†Ø³ØªØ®Ø¯Ù… Ù†Ø¸Ø±ÙŠØ© ÙÙŠØ«Ø§ØºÙˆØ±Ø³: Ø§Ù„ÙˆØªØ±Â² = 6Â² + 8Â² = 36 + 64 = 100ØŒ Ø¥Ø°Ù† Ø§Ù„ÙˆØªØ± = 10'
                },
                {
                    id: 5,
                    type: 'written',
                    question: 'Ø¨ÙŠÙ† Ø£Ù† Ø§Ù„Ù…Ø«Ù„Ø« Ø§Ù„Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø²ÙˆØ§ÙŠØ§Ù‡ ÙƒÙ„Ù‡Ø§ 60Â°.',
                    hint: 'Ù…Ø¬Ù…ÙˆØ¹ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø«Ù„Ø« 180Â°ØŒ ÙˆÙ…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ØŒ Ø¥Ø°Ù† ÙƒÙ„ Ø²Ø§ÙˆÙŠØ© = 180/3 = 60Â°'
                }
            ],
            comprehensive: []
        };

        // Generate comprehensive test from all categories
        emergencyDB.comprehensive = [
            ...emergencyDB.feb,
            ...emergencyDB.mar,
            ...emergencyDB.apr,
            ...emergencyDB.final1.filter(q => q.type === 'mcq'),
            ...emergencyDB.final2.filter(q => q.type === 'mcq')
        ].slice(0, 20);

        // Global State
        let currentScreen = 'mainMenu';
        let screenHistory = [];
        let currentTest = null;
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let studentAnswers = {};
        let studentInfo = {};
        let testStartTime = null;
        let timerInterval = null;
        let testResults = [];

        // ==========================================
        // NAVIGATION SYSTEM
        // ==========================================

        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Show target screen
            document.getElementById(screenId).classList.add('active');
            
            // Update history
            if (currentScreen !== screenId) {
                screenHistory.push(currentScreen);
            }
            currentScreen = screenId;
            
            // Update back button visibility
            const backBtn = document.getElementById('backBtn');
            if (screenId === 'mainMenu') {
                backBtn.classList.remove('visible');
                screenHistory = [];
            } else {
                backBtn.classList.add('visible');
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        function goBack() {
            if (screenHistory.length > 0) {
                const previousScreen = screenHistory.pop();
                showScreen(previousScreen);
            } else {
                showScreen('mainMenu');
            }
        }

        // ==========================================
        // ENCYCLOPEDIA SYSTEM
        // ==========================================

        function switchTab(tabName) {
            // Update buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
        }

        // ==========================================
        // TESTING SYSTEM
        // ==========================================

        async function startTest(testId, testName, questionCount) {
            currentTest = {
                id: testId,
                name: testName,
                count: questionCount
            };
            
            // Try to load from external JSON first
            try {
                const response = await fetch('questions.json');
                if (response.ok) {
                    const data = await response.json();
                    if (data[testId]) {
                        currentQuestions = data[testId].slice(0, questionCount);
                    } else {
                        throw new Error('Test not found in JSON');
                    }
                } else {
                    throw new Error('Failed to fetch JSON');
                }
            } catch (error) {
                console.log('Using emergency database:', error);
                // Use emergency database
                if (emergencyDB[testId]) {
                    currentQuestions = emergencyDB[testId].slice(0, questionCount);
                } else {
                    showAlert('formAlert', 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹');
                    return;
                }
            }
            
            // Show student form
            document.getElementById('testTypeDisplay').value = testName;
            showScreen('studentForm');
        }

        function confirmStartTest() {
            const name = document.getElementById('studentName').value.trim();
            const grade = document.getElementById('studentGrade').value;
            
            if (!name) {
                showAlert('formAlert', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ');
                return;
            }
            if (!grade) {
                showAlert('formAlert', 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ');
                return;
            }
            
            studentInfo = { name, grade };
            startQuiz();
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            studentAnswers = {};
            testStartTime = Date.now();
            
            document.getElementById('quizTitle').textContent = currentTest.name;
            document.getElementById('totalQNum').textContent = currentQuestions.length;
            
            showScreen('quizScreen');
            displayQuestion();
            startTimer();
        }

        function startTimer() {
            let seconds = 0;
            const timerDisplay = document.getElementById('timerDisplay');
            const timerBox = document.getElementById('timerBox');
            
            timerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                timerDisplay.textContent = `${mins}:${secs}`;
                
                // Warning at 5 minutes
                if (seconds >= 300) {
                    timerBox.classList.add('warning');
                }
            }, 1000);
        }

        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            document.getElementById('currentQNum').textContent = currentQuestionIndex + 1;
            updateProgress();
            
            let html = `
                <div class="question-header">
                    <span>Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1}</span>
                    <span style="color: ${question.type === 'mcq' ? 'var(--success)' : 'var(--warning)'}">
                        ${question.type === 'mcq' ? 'Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯' : 'Ø³Ø¤Ø§Ù„ Ù…Ù‚Ø§Ù„ÙŠ'}
                    </span>
                </div>
                <div class="question-text">${question.question}</div>
            `;
            
            if (question.type === 'mcq') {
                html += `<div class="options-grid">`;
                question.options.forEach((option, index) => {
                    const letter = ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'][index];
                    html += `
                        <button class="option-btn" onclick="selectOption(${index}, this)" data-index="${index}">
                            <span class="option-letter">${letter}</span>
                            <span>${option}</span>
                        </button>
                    `;
                });
                html += `</div>`;
            } else {
                html += `
                    <textarea style="width: 100%; min-height: 150px; padding: 15px; border: 2px solid var(--gray-medium); border-radius: 10px; font-size: 1.1em; resize: vertical;" 
                    placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§..." id="writtenAnswer"></textarea>
                `;
            }
            
            html += `
                <div class="feedback-box" id="feedbackBox">
                    <div class="feedback-title">ğŸ’¡ ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø©</div>
                    <div id="feedbackText"></div>
                </div>
            `;
            
            container.innerHTML = html;
            
            // Update buttons
            const nextBtn = document.getElementById('nextBtn');
            const finishBtn = document.getElementById('finishBtn');
            
            if (currentQuestionIndex === currentQuestions.length - 1) {
                nextBtn.classList.add('hidden');
                finishBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                finishBtn.classList.add('hidden');
            }
            
            nextBtn.disabled = true;
            finishBtn.disabled = true;
        }

        function selectOption(index, element) {
            // Remove previous selection
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected', 'correct', 'wrong');
                btn.disabled = true;
            });
            
            element.classList.add('selected');
            
            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = index === question.correct;
            
            // Show correct/wrong styling
            if (isCorrect) {
                element.classList.add('correct');
            } else {
                element.classList.add('wrong');
                document.querySelectorAll('.option-btn')[question.correct].classList.add('correct');
            }
            
            // Save answer
            studentAnswers[question.id] = {
                selected: index,
                correct: question.correct,
                isCorrect: isCorrect
            };
            
            // Show feedback
            showFeedback(question.hint);
            
            // Enable next button
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('finishBtn').disabled = false;
        }

        function showFeedback(hint) {
            const feedbackBox = document.getElementById('feedbackBox');
            const feedbackText = document.getElementById('feedbackText');
            feedbackText.textContent = hint;
            feedbackBox.classList.add('show');
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            displayQuestion();
        }

        function finishTest() {
            clearInterval(timerInterval);
            
            // Calculate results
            let correct = 0;
            let answered = 0;
            
            Object.values(studentAnswers).forEach(answer => {
                answered++;
                if (answer.isCorrect) correct++;
            });
            
            const score = Math.round((correct / currentQuestions.length) * 100);
            const timeTaken = document.getElementById('timerDisplay').textContent;
            
            // Determine grade
            let grade = '';
            let gradeClass = '';
            if (score >= 90) {
                grade = 'Ù…Ù…ØªØ§Ø²';
                gradeClass = 'excellent';
            } else if (score >= 80) {
                grade = 'Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹';
                gradeClass = 'very-good';
            } else if (score >= 70) {
                grade = 'Ø¬ÙŠØ¯';
                gradeClass = 'good';
            } else if (score >= 60) {
                grade = 'Ù…Ù‚Ø¨ÙˆÙ„';
                gradeClass = 'pass';
            } else {
                grade = 'Ø¶Ø¹ÙŠÙ';
                gradeClass = 'fail';
            }
            
            // Save result
            const result = {
                testName: currentTest.name,
                score: score,
                grade: grade,
                date: new Date().toLocaleString('ar-SA'),
                timeTaken: timeTaken
            };
            testResults.push(result);
            
            // Update results screen
            document.getElementById('finalScore').textContent = score + '%';
            document.getElementById('gradeDisplay').textContent = grade;
            document.getElementById('correctCount').textContent = correct;
            document.getElementById('wrongCount').textContent = currentQuestions.length - correct;
            document.getElementById('timeTaken').textContent = timeTaken;
            
            showScreen('resultsScreen');
        }

        // ==========================================
        // CERTIFICATE SYSTEM
        // ==========================================

        function showCertificate() {
            const lastResult = testResults[testResults.length - 1];
            
            document.getElementById('certStudentName').textContent = studentInfo.name;
            document.getElementById('certTestName').textContent = lastResult.testName;
            document.getElementById('certScore').textContent = lastResult.score + '%';
            document.getElementById('certGrade').textContent = lastResult.grade;
            document.getElementById('certDate').textContent = 'ØªØ§Ø±ÙŠØ® Ø§Ù„ØµØ¯ÙˆØ±: ' + lastResult.date;
            
            showScreen('certificateScreen');
        }

        function printCertificate() {
            window.print();
        }

        // ==========================================
        // UTILITY FUNCTIONS
        // ==========================================

        function showAlert(elementId, message) {
            const alert = document.getElementById(elementId);
            alert.textContent = message;
            alert.classList.add('show');
            setTimeout(() => {
                alert.classList.remove('show');
            }, 3000);
        }

        function returnToMenu() {
            showScreen('mainMenu');
        }

        // Update profile stats
        function updateProfile() {
            if (studentInfo.name) {
                document.getElementById('profileName').textContent = studentInfo.name;
            }
            document.getElementById('totalTests').textContent = testResults.length;
            
            if (testResults.length > 0) {
                const avg = Math.round(testResults.reduce((sum, r) => sum + r.score, 0) / testResults.length);
                const best = Math.max(...testResults.map(r => r.score));
                document.getElementById('avgScore').textContent = avg + '%';
                document.getElementById('bestScore').textContent = best + '%';
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check for saved data
            const savedResults = localStorage.getItem('geniusResults');
            if (savedResults) {
                testResults = JSON.parse(savedResults);
            }
        });

        // Save results before unload
        window.addEventListener('beforeunload', function() {
            localStorage.setItem('geniusResults', JSON.stringify(testResults));
        });
    </script>
</body>
</html>
